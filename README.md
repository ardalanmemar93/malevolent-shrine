# MALEVOLENT SHRINE

# 

<img width="1423" src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExcDVpanE3YTB6aGpqNHFmcG5wN2czYTZ2a21hOWZrbHRmcWsxNGplNiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/0oeRw1rpYXZgvewneq/giphy.gif"/>

"Malevolent Shrine" - In this web application, users can explore and interact with anime characters using data fetched from the Jikan API. Users have the ability to sign up and log in, enabling them to create and showcase their anime squads. The application empowers users to update or remove their squads, laying the foundation for future features such as a squad battle system. This platform provides a space for anime enthusiasts to engage in community interactions centered around their favorite characters and squads.

# A live build can be found [here](https://malevolent-shrine-7e6aea34c382.herokuapp.com/about).

## Tools

![HTML5](https://img.shields.io/badge/html5-%23E34F26.svg?style=for-the-badge&logo=html5&logoColor=white)
![CSS3](https://img.shields.io/badge/css3-%231572B6.svg?style=for-the-badge&logo=css3&logoColor=white)
![Javascript](https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black)
![git](https://img.shields.io/badge/GIT-E44C30?style=for-the-badge&logo=git&logoColor=white)
![github](https://img.shields.io/badge/GitHub-100000?style=for-the-badge&logo=github&logoColor=white)
![VSCode](https://img.shields.io/badge/Visual_Studio_Code-0078D4?style=for-the-badge&logo=visual%20studio%20code&logoColor=white)
![MongoDB](https://img.shields.io/badge/MongoDB-4EA94B?style=for-the-badge&logo=mongodb&logoColor=white)
![NPM](https://img.shields.io/badge/npm-CB3837?style=for-the-badge&logo=npm&logoColor=white)
![React](https://img.shields.io/badge/react-%2320232a.svg?style=for-the-badge&logo=react&logoColor=%2361DAFB)
![Trello](https://img.shields.io/badge/Trello-%23026AA7.svg?style=for-the-badge&logo=Trello&logoColor=white)
![TailwindCSS](https://img.shields.io/badge/tailwindcss-%2338B2AC.svg?style=for-the-badge&logo=tailwind-css&logoColor=white)
![Heroku](https://img.shields.io/badge/heroku-%23430098.svg?style=for-the-badge&logo=heroku&logoColor=white)
![Express.js](https://img.shields.io/badge/express.js-%23404d59.svg?style=for-the-badge&logo=express&logoColor=%2361DAFB)

#### Maintained
![maintaned](https://img.shields.io/badge/Maintained%3F-yes-green.svg)

## Malevolent Shrine

"Malevolent Shrine" is an innovative web application designed to bring anime enthusiasts together through a unique blend of squad creation, character exploration, and user interaction. Here's an overview of the key features:

1. **User Authentication:**
   - Seamless sign-up and login process, providing users with personalized access to the application.
   - Secure authentication ensures a private and tailored experience for each user.

2. **Anime Character Search:**
   - Empowers users to explore a vast database of anime characters, sourced for convenience.
   - Users can search and view detailed information about their favorite characters, facilitating informed squad creation.

3. **Squad Creation:**
   - Unleash creativity by crafting personalized anime squads from a diverse selection of characters.
   - Customize squad details and create a unique identity for each squad within the "Malevolent Shrine" universe.

4. **Character Details:**
   - Dive deep into the details of anime characters, including background stories, abilities, and characteristics.
   - Access comprehensive information to aid in squad creation and storytelling.

5. **Squad Management:**
   - Users have complete control over their squads, allowing for updates, modifications, or removal.
   - The groundwork for future features like squad battles and anime lists is laid for an evolving and engaging experience.

6. **Community Interaction:**
   - Fosters a sense of community through the ability to explore and interact with squads created by fellow users.
   - Users can appreciate, comment on, and engage with the diverse range of anime squads within the "Malevolent Shrine" community.

7. **Future Features:**
   - "Malevolent Shrine" is designed with future expansion in mind, laying the foundation for upcoming features such as squad battles and curated anime lists.

"Malevolent Shrine" invites users to embark on a journey where creativity knows no bounds, and the vibrant world of anime characters comes to life through personalized squads and engaging interactions. Stay tuned for exciting updates and features as the platform continues to evolve.


Sign UP Page.

![Gotei13 Wireframe](/public/images/ms-signup.png)

 Search for Characters and create Squads.

![Gotei13 Wireframe](/public/images/ms-character-search.png)

About Characters

![Gotei13 Wireframe](/public/images/ms-character.png)


## Features
- User-Friendly Front-End Interface
- Interactive Character Creation
- Visually Engaging Elements
- Usesd Tailwind CSS
- Background Images
- User Authentication 
- Authorization for User Permissions
- Explore and Engage with Squads

## Technologies used

"In the development of the Malevolent Shrine application, a modern and efficient stack of technologies was employed to deliver an immersive user experience. React.js, a powerful JavaScript library, took center stage, providing a dynamic and responsive front-end for seamless user interactions. JavaScript served as the scripting language, adding interactivity and dynamism to the application and enhancing overall user engagement.

Express.js, a minimal and flexible Node.js framework, formed the backbone of the server-side development, facilitating smooth data flow and enabling robust functionality behind the scenes. MongoDB, a NoSQL database, was chosen for its efficiency in managing and storing user data and character information. Mongoose, a schema-based solution, streamlined data modeling for increased efficiency.

For the user interface, HTML was utilized to structure the web content, while CSS and Tailwind CSS were employed for styling, ensuring a visually appealing and responsive design. Tailwind CSS, in particular, provided a utility-first approach for crafting modern and efficient styles.

JWT (JSON Web Token) tokens were implemented for secure user authentication, enhancing the overall security and reliability of user registration and login processes.

NPM (Node Package Manager) played a pivotal role in the development process, seamlessly integrating various packages, libraries, and dependencies. Git, a version control system, was utilized for collaborative development, allowing for efficient code management and collaboration.

The Malevolent Shrine application stands as a testament to the synergy of these technologies, delivering a unique and engaging platform for users to explore anime characters, create squads, and participate in the evolving world of anime storytelling."

## Challenges

The development of the Malevolent Shrine application came with several challenges, including:

- **User Authentication**: Establishing secure user authentication using JWT tokens in the Malevolent Shrine project demanded meticulous planning and attention to detail. The goal was to safeguard user data and restrict access to authorized users only.

- **Data Management**: Effectively managing anime character data in MongoDB posed challenges related to data validation, schema design, and storage. Adapting to the flexibility of a NoSQL database presented a learning curve while ensuring data consistency and integrity.

- **Real-time Squad Creation**: Implementing real-time squad creation and modification using the Jikan API added a unique challenge. Handling API requests and responses seamlessly while providing an intuitive user experience required careful consideration of the application's logic.

- **Front-End Complexity**: Designing an appealing and user-friendly front-end for Malevolent Shrine involved addressing challenges related to responsive design, layout, and interactive elements. Ensuring optimal accessibility across various devices and screen sizes was paramount.

- **Error Handling**: Implementing robust error handling mechanisms to deliver meaningful feedback to users in case of issues was a critical aspect. Handling diverse types of errors and presenting them in a user-friendly manner demanded careful planning.

- **User Experience**: Balancing feature richness with a smooth and intuitive user experience was an ongoing challenge in the Malevolent Shrine project. Striking the right equilibrium between functionality and usability required continuous user feedback and iterative design enhancements.

Despite these challenges, the development of the Malevolent Shrine application proved to be a gratifying experience, resulting in a platform that empowers users to create and showcase their anime character squads in an engaging and interactive environment.

## Favorite Function
- The "createSquad" function in the Malevolent Shrine project is a crucial piece of functionality responsible for handling the creation and editing of squads. It begins by checking the user's authentication status, ensuring that only authorized users can perform squad-related actions. The function then retrieves the user information from the request and validates the request body, extracting characters and the squad name. If a squad ID is provided in the request, it indicates the intention to edit an existing squad. In such cases, the function ensures the squad exists and belongs to the user before updating its name and characters. If no squad ID is provided, the function creates new characters, associates them with a newly created squad, and updates the user's squads array accordingly. This function is designed to handle both squad creation and editing, providing a versatile and seamless experience for users.



```js
// squad creation function
async function createSquad(req, res) {
  try {
    // Check if user is authenticated
    if (!req.user) {
      return res.status(401).json({ error: 'Unauthorized' });
    }
    // Get the user from the database
    const user = req.user;
    // Find the user in the database
    const foundUser = await User.findById(user._id);
    // Get the characters and squad name from the request body
    const { characters, name } = req.body;
    // Check if the request includes a squad ID
    if (req.body.squadId) {
      // Edit existing squad
      // Find the squad in the database
      const squadToUpdate = await Squad.findById(req.body.squadId);
      // Check if the squad exists and belongs to the user
      if (!squadToUpdate || squadToUpdate.user.toString() !== user._id.toString()) {
        return res.status(404).json({ error: 'Squad not found or unauthorized' });
      }
      // Update squad's name
      squadToUpdate.name = name;
      // Remove existing characters from the squad
      squadToUpdate.characters = [];
      // Create new characters and save them to the database
      const newCharacters = await Character.create(characters);
      // Update squad's characters array
      squadToUpdate.characters.push(...newCharacters.map(c => c._id));
      // Save the updated squad
      await squadToUpdate.save();
      res.status(200).json(squadToUpdate);
    } else {
      // Create the characters and save them to the database
      const newCharacters = await Character.create(characters);
      // Create a new squad and associate it with the user
      const newSquad = await Squad.create({ user: user._id, name });
      // Update user's squads array
      foundUser.squads.push(newSquad._id);
      // Save the user
      await foundUser.save();
      // Update squad's characters array
      newSquad.characters.push(...newCharacters.map(c => c._id));
      // Save the squad
      await newSquad.save();
      res.status(201).json({ newSquad, charactersAdded: true });
    }
  } catch (error) {
    console.error('Error creating/editing squad:', error);
    res.status(500).json({ error: 'Internal Server Error' });
  }
}
```
- The "updateSquad" function is responsible for updating an existing squad in the Malevolent Shrine application. It verifies the user's authentication status and retrieves the squad details from the request body, including characters and the squad name. The function then fetches the specified squad from the database, ensuring it exists and belongs to the authenticated user. It iterates through the characters provided in the request, updating existing characters and inserting new ones into the database. The squad's name and characters are then updated, and the changes are saved. This function facilitates the dynamic modification of squads, allowing users to fine-tune their squad compositions and details. It showcases a robust approach to handling squad updates, considering both existing and new character scenarios, contributing to the overall flexibility and functionality of the Malevolent Shrine platform. Upsert a database operation that will update an existing row if a specified value already exists in a table, and insert a new row if the specified value doesn't already exist


```js

 // squad update function 
  async function updateSquad(req, res) {
    try {
      console.log('Received squadId:', req.params.squadId);
      // Check if user is authenticated
      if (!req.user) {
        return res.status(401).json({ error: 'Unauthorized' });
      }
      // Get the user from the database
      const user = req.user;
      // Get the squad details from the request body
      const { characters, name } = req.body;
      const squadId = req.params.squadId;
      // Find the squad in the database
      const squadToUpdate = await Squad.findById(squadId);
      // Check if the squad exists and belongs to the user
      if (!squadToUpdate || squadToUpdate.user.toString() !== user._id.toString()) {
        return res.status(404).json({ error: 'Squad not found or unauthorized' });
      }
      // Create an array to store updated characters
      const updatedCharacters = [];
      // Iterate through characters and update or insert into the database
      for (const character of characters) {
        if (character._id) {
          // If character has an _id, it's an existing character, update it
          const existingCharacter = await Character.findByIdAndUpdate(character._id, character, {
            new: true,
            upsert: true, // Create the character if it doesn't exist
          });
          updatedCharacters.push(existingCharacter._id);
        } else {
          // If character doesn't have an _id, it's a new character, insert it
          const newCharacter = await Character.create(character);
          updatedCharacters.push(newCharacter._id);
        }
      }
      // Update squad's name and characters
      squadToUpdate.name = name;
      squadToUpdate.characters = updatedCharacters;
      // Save the updated squad
      await squadToUpdate.save();
      console.log('Squad updated successfully:', squadToUpdate);
      res.status(200).json(squadToUpdate);
    } catch (error) {
      console.error('Error updating squad:', error);
      res.status(500).json({ error: 'Internal Server Error' });
    }
  }


```

## Future
- [ ] Mobile support
- [ ] Adding squad battles
- [ ] Adding a comment section
- [ ] Adding the user detaile in the comments
- [ ] Adding the ability so users can create anime lists
- [ ] Adding the functionality so that the user can favourite squads, characters and animes
- [ ] Expand on the overall design
- [ ] Refactor code 

